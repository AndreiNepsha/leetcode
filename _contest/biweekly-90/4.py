from typing import List
from collections import deque


class Solution:
    def secondGreaterElement(self, nums: List[int]) -> List[int]:
        ln = len(nums)
        res = [None] * ln
        k = ln - 1
        ls = ln
        for i in range(len(nums) - 1, -1, -1):
            gtc = 0
            fgtc = -1
            for j in range(i + 1, ls):
                if nums[i] < nums[j]:
                    gtc += 1
                if nums[i] <= nums[j]:
                    fgtc = j
                if gtc == 2:
                    res[k] = nums[j]
                    break
            if gtc < 2:
                res[k] = -1
                if fgtc > -1:
                    ls = fgtc + 1
            k -= 1
        return res


# nums = [i for i in range(1, 10002)]
# a = Solution().secondGreaterElement(nums)
# assert [-1] * 10001 == a, a

nums = [2, 4, 0, 9, 6]
a = Solution().secondGreaterElement(nums)
assert [9, 6, 6, -1, -1] == a, a

nums = [1, 17, 18, 0, 18, 10, 20, 0]
a = Solution().secondGreaterElement(nums)
assert [18, 18, -1, 10, -1, -1, -1, -1] == a, a

nums = [987906929,4197712,848562902,899166556,559680928,445376075,463513302,56263720,724084840,507199154,616610434,509283951,461678322,408874656,209450493,499713722,406687820,544995640,761964978,391092939,429738842,458088703,240324040,477167335,7071409,741575877,1579240,401495474,208420234,867763391,175435520,285182838,413091679,877450563,139153474,20280545,786916877,972345305,588179841,40567579,174559823,659072754,147781269,879477954,379155504,351981356,344142148,542846471,339342310,83486153,697704014,134702325,935912802,579037441,249168252,43879211,842818202,787087411,706696136,85507085,867497487,933702139,998879694,488496237,685124336,916016170,799653656,62325501,597941196,237885525,547080067,305887791,512697033,892199817,25684005,892339564,895415464,687198859,638265576,952048927,229951211,772005848,353527866,502805757,466346187,594845521,975354989,985438408,443695956,400914814,835096844,788415684,617914211,655708291,254305316,996502976,742331783,996753015,904546729,954264255,148132613,986002956,593808812,763269530,914315730,407702700,499001699,891877621,914691114,811089838,677455868,935147975,336296729,695992936,222609719,347009096,658700012,46635758,935628344,155726529,900056242,30375586,785119219,833893767,992699670,575106687,408429403,394761797,733400052,325684896,978745246,459454748,381208243,57040780,40597662,712209111,785274202,644182288,206538630,49504546,271501512,957593491,277616069,668396597,80972492,798382188,310450408,56185564,357149126,216087346,385819039,313032789,713081590,929835841,75659286,353859969,570094679,847307107,373984945,875717450,240083036,630109391,240694178,812559322,508310087,94782727,715248674,545931679,912809368,669725329,445768360,90799936,518797999,841534077,679468753,790568813,642787684,379542389,59982804,714278894,517248589,897266131,82222690,184366986,351018126,570780513,907005388,686303716,705486543,105025341,908036000,938797190,603009465,525995430,350136949,801901216,166813317,154746728,152126471,719576893,395539302,599181314,452389126,946589033,843139581,454049967,875130035,359526409,920629826,818175553,125688454,111738846,8226998,536890455,100365691,46778295,429520543,105496861,851904706,596979496,72764720,190583332,223890759,679161217,753332528,846492498,299570726,127868058,174045696,992878379,95904365,847575651,552697469,528867243,809049801,88297872,73638861,441204966,692046580,122392869,137696339,772182084,210489831,615746975,619625508,765829597,776603327,796891794,942589722,434019290,163316827,236553300,245046056,574290395,634950100,513259190,764118967,226837576,36710907,591573689,26005898,157436234,154541006,198664324,637904379,492848805,69225540,33066249,476220668,458350003,989803596,895452415,382338050,809613176,510368444,914405574,918657149,77784183,859517665,61783694,745148787,422408779,543299682,189607325,551814127,934873092,439523980,798842061,132976345,445977714,606402617,61487754,617417873,872725712,140280538,794117038,243418481,764204081,505322915,730909689,912427329,466931540,108484681,826369778,477446265,438417470,574348888,241125317,587577731,137088047,876954850,629699947,294738010,375212773,197339791,310036659,28468646,263442728,877658729,657686308,557470359,169532280,519102238,727239626,758890159,851841744,317555758,522181319,417314581,710188926,872450782,780472870,833084094,206189039,368689531,161445009,336650144,210543508,108909255,298544812,75928415,659760334,78062535,252206436,437259308,891754206,208832121,907096080,497151483,554302606,404461802,33912004,35826684,706130743,39888932,984432474,655355915,26566058,357101980,284371912,841626121,376511983,664537412,136712178,398627909,372157437,381160752,319154218,230097297,937790673,37529742,606028390,691657130,252927530,596219447,633741321,293473899,557935709,320910064,730819354,434569425,93686571,331873018,2235911,775583431,715907396,572197515,38773292,894804101,8780820,880797615,253903357,456010103,804652402,965275767,398121913,201211009,99666339,861989996,877340454,974305451,383231242,360700087,8753875,189763861,604234808,904149187,588180735,81876876,796747441,852412592,132258807,138763728,929158640,743092087,65834675,891716019,214111011,963376874,990674884,853498504,213266122,700855210,248707216,995249550,714395119,877152360,738082678,856582571,689008749,232897318,276128727,488275302,258765725,61031838,367879676,957643130,473170656,107086807,512049507,157098456,204757469,647652030,921668355,141182841,470353477,886803148,487271148,299380493,374845931,372404519,719423603,286103537,332964451,694581208,471831740,177350221,170130834,576753257,328549108,212639187,456080594,346802170,862679303,852666282,992815262,205699061,876526084,421118015,201000422,732978445,494665004,943012368,705174540,601453820,816583920,728283626,925113305,193116412,673529973,206515681,484485340,142499730,381724526,380279481,329804403,97357521,63297337,394483190,981448486,660494765,721053300,849270390,798411457,458189915,997832851,582023369,132694779,808108532,589838855,483038884,922325425,915520940,708991343,512637770,61517358,684019628,705186426,893855783,669401295,111488599,927181839,490648969,848669171,782047070,691737827,444361400,510137138,738968002,411743188,627955605,97909044,129931591,789969954,165944204,162085940,151316084,720431092,123968039,953929670,859827356,45598164,676571777,173786898,422341020,3570643,236850158,968218044,799284445,885709641,404493554,295951265,491092745,388904685,475307786,865498558,359141369,983368422,143355255,31655709,822363252,604961686,731882771,851952278,7735004,222518763,30386048,469567356,99414480,778725828,907033811,61980403,739542819,683210141,723904886,133841312,503004921,850639058,705162617,695236937,957273079,770293182,370930575,73569953,34853113,394935020,541709907,145911380,437204101,747418613,73981645,574403297,739562934,840500899,269346095,742947051,407178106,92732864,126803079,801510828,62562458,427400007,34082525,582805540,775458097,129485264,237460506,748315379,330995510,126938757,506755789,254110286,94310836,92996039,164706853,701691600,80685702,135251368,683763212,790140527,753683789,551815356,428518114,407528078,123198984,532203504,998205381,72780153,711375545,248507190,911610433,147202789,938199742,368486426,270158960,669379375,770178347,915855784,417236381,526063721,354397936,983431455]
a = Solution().secondGreaterElement(nums)
assert (
    [996502976,899166556,867763391,935912802,616610434,724084840,507199154,507199154,741575877,509283951,741575877,761964978,544995640,544995640,406687820,761964978,761964978,741575877,877450563,458088703,477167335,741575877,741575877,867763391,401495474,877450563,208420234,413091679,285182838,972345305,413091679,877450563,786916877,879477954,972345305,972345305,879477954,975354989,879477954,659072754,879477954,697704014,379155504,933702139,697704014,697704014,697704014,935912802,935912802,134702325,842818202,579037441,952048927,787087411,787087411,787087411,933702139,933702139,933702139,933702139,998879694,952048927,-1,916016170,799653656,975354989,892339564,237885525,892339564,305887791,892339564,892199817,892339564,895415464,895415464,952048927,975354989,772005848,772005848,985438408,353527866,985438408,466346187,975354989,975354989,985438408,996502976,996753015,788415684,788415684,996753015,996753015,996502976,742331783,742331783,997832851,904546729,998205381,986002956,992699670,593808812,992878379,914315730,891877621,935147975,891877621,914691114,935147975,935628344,935628344,695992936,992699670,347009096,900056242,658700012,935628344,900056242,155726529,978745246,785119219,978745246,833893767,992699670,978745246,995249550,978745246,978745246,978745246,785274202,459454748,989803596,785274202,785274202,785274202,785274202,957593491,798382188,668396597,957593491,957593491,277616069,989803596,798382188,713081590,310450408,847307107,385819039,216087346,713081590,313032789,929835841,929835841,847307107,946589033,570094679,847307107,875717450,912809368,630109391,897266131,240694178,715248674,508310087,841534077,545931679,545931679,841534077,669725329,946589033,679468753,841534077,841534077,679468753,907005388,714278894,907005388,897266131,517248589,517248589,907005388,570780513,908036000,351018126,570780513,907005388,686303716,938797190,908036000,938797190,938797190,946589033,992878379,719576893,719576893,719576893,843139581,395539302,395539302,395539302,843139581,452389126,843139581,843139581,989803596,920629826,920629826,992878379,818175553,942589722,846492498,429520543,429520543,100365691,596979496,105496861,105496861,596979496,596979496,942589722,753332528,223890759,679161217,753332528,846492498,992878379,847575651,847575651,992878379,847575651,997832851,552697469,989803596,692046580,692046580,989803596,692046580,692046580,772182084,765829597,772182084,210489831,796891794,619625508,765829597,776603327,796891794,942589722,989803596,984432474,634950100,245046056,574290395,634950100,764118967,637904379,591573689,895452415,637904379,157436234,989803596,154541006,637904379,637904379,492848805,895452415,895452415,458350003,458350003,895452415,895452415,995249550,918657149,510368444,918657149,918657149,934873092,984432474,745148787,872725712,422408779,798842061,551814127,934873092,934873092,798842061,937790673,445977714,912427329,606402617,617417873,872725712,872725712,794117038,876954850,243418481,826369778,505322915,826369778,912427329,826369778,937790673,477446265,477446265,877658729,587577731,587577731,876954850,876954850,629699947,629699947,891754206,657686308,310036659,657686308,263442728,657686308,877658729,657686308,907096080,758890159,758890159,727239626,758890159,851841744,872450782,891754206,417314581,872450782,872450782,780472870,907096080,891754206,907096080,336650144,437259308,210543508,437259308,659760334,659760334,437259308,78062535,907096080,437259308,891754206,907096080,984432474,497151483,937790673,706130743,984432474,984432474,706130743,39888932,841626121,655355915,995249550,664537412,284371912,376511983,376511983,894804101,398627909,691657130,372157437,606028390,937790673,606028390,606028390,606028390,974305451,691657130,633741321,775583431,633741321,730819354,775583431,320910064,775583431,434569425,894804101,715907396,775583431,715907396,715907396,880797615,880797615,880797615,880797615,974305451,253903357,974305451,804652402,965275767,861989996,990674884,877340454,877340454,877340454,974305451,904149187,995249550,904149187,904149187,604234808,904149187,796747441,963376874,852412592,852412592,929158640,891716019,929158640,743092087,990674884,963376874,214111011,990674884,990674884,995249550,992815262,877152360,248707216,714395119,714395119,998205381,738082678,921668355,957643130,921668355,921668355,488275302,367879676,512049507,957643130,957643130,473170656,981448486,647652030,157098456,921668355,647652030,921668355,886803148,943012368,886803148,487271148,943012368,694581208,372404519,694581208,694581208,852666282,694581208,471831740,852666282,862679303,328549108,328549108,852666282,346802170,346802170,852666282,852666282,876526084,876526084,998205381,421118015,925113305,494665004,494665004,816583920,705174540,997832851,728283626,728283626,981448486,981448486,997832851,206515681,721053300,381724526,660494765,380279481,981448486,981448486,981448486,981448486,981448486,660494765,983368422,849270390,798411457,922325425,808108532,582023369,-1,589838855,589838855,915520940,915520940,915520940,953929670,953929670,927181839,705186426,705186426,893855783,927181839,953929670,848669171,490648969,968218044,782047070,859827356,953929670,789969954,738968002,627955605,953929670,789969954,720431092,789969954,165944204,859827356,953929670,953929670,953929670,859827356,859827356,983368422,885709641,173786898,799284445,236850158,799284445,968218044,799284445,998205381,865498558,907033811,475307786,388904685,983368422,865498558,983368422,907033811,822363252,983431455,604961686,604961686,907033811,851952278,778725828,957273079,30386048,778725828,99414480,907033811,907033811,850639058,998205381,683210141,957273079,850639058,957273079,850639058,705162617,998205381,770293182,770293182,983431455,801510828,541709907,541709907,541709907,437204101,574403297,747418613,574403297,801510828,739562934,840500899,742947051,911610433,407178106,775458097,427400007,801510828,427400007,911610433,582805540,775458097,775458097,748315379,998205381,748315379,330995510,753683789,701691600,254110286,683763212,683763212,701691600,701691600,683763212,753683789,683763212,790140527,753683789,911610433,911610433,711375545,998205381,998205381,998205381,711375545,-1,248507190,938199742,938199742,915855784,368486426,-1,770178347,770178347,915855784,983431455,-1,983431455,-1,-1,-1]
    == a
), a
